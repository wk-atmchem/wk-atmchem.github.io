---
layout:     post
title:      CMAQ5.3.1安装教程
subtitle:   空气质量模型 
date:       2020-04-20
author:     WK
header-img: img/cmaq-tdep.png
catalog: true
tags:
    - 科研
    - 博客
    - 漫谈
---

# 关于分享

平时经常有很多人来请教我关于CMAQ模型编译，使用，debug的问题，我都花时间为其一一解答。

感觉在解答别人的问题时，你自己也能学到很多新的知识，同时能沉浸其中。

我想这就是分享的魔力吧。

所以，下面我们开始进入CMAQ的世界~

# CMAQ整体框架介绍
CMAQ作为美国环保署开发的第三代欧拉空气质量模型，因其高时空分辨率，多工具成体系化而被广泛应用于大气环境科学研究当中。

下图即为CMAQ整体的模型框架以及相关的前处理，后处理工具。
![CMAQ-structure](https://raw.githubusercontent.com/wk-atmchem/wk-atmchem.github.io/master/img/CMAQ-structure.png)


# CMAQv5.3.1所需库安装
US EPA指出安装CMAQv5.3.1所需的库为以下几个:netCDF-C, netCDF-Fortran, IOAPI以及MPI(MPI为并行计算所需)。

本文以EPA官方Tutorials为参考，使用以下的库版本：netcdf-c-4.7.0,netcdf-fortran-4.4.5,ioapi-3.2

为方便大家获取库文件的压缩包，我已将上述3个库上传至百度网盘，链接如下：

下面我们开始按顺序安装上述3个库：

首先——安装netCDF-C

在Linux的terminal中按顺序输入如下命令：

1.  `tar -xzvf netcdf-c-4.7.0.tar.gz`
2.  `cd netcdf-c-4.7.0`
3.  `mkdir ../netcdf-c-4.7.0-intel`   
这步即为在解压出来的netcdf-c目录创建一个名为netcdf-c-4.7.0-intel的文件夹
4.  `./configure --prefix=$../netcdf-c-4.7.0-intel --disable-netcdf-4 --disable-dap`
执行编译
5.  `make check install`
对安装结果进行测试  是否成功编译   如编译成功   则会出现如下提示：
Congratulations! You have successfully installed netCDF!